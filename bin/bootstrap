#!/bin/bash

DOTFILES="$(cd $(dirname $0)/.. && pwd)"

function symlink_files {
  for file in .gemrc .gitconfig .lein .vimrc .agignore; do
    ln -s $DOTFILES/$file $HOME/$file && echo "$HOME/$file linked"
  done
  mkdir -p $HOME/.lein
  ln -s lein-profiles.clj $HOME/.lein/profiles.clj && \
    echo "$HOME/.lein/profiles.clj linked"
}

function install_dependencies {
  pip install --requirement $DOTFILES/Pipfile
  lein deps
}

function install_vim_plugins {
  vim +PluginInstall +qall && echo "vim plugins installed"
}

symlink_files
install_dependencies
install_vim_plugins
